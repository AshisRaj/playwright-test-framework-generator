import { expect, test } from '@fixtures';

const userId = 111;

test('Create profile', { tag: ['@smoke', '@regression'] }, async ({ apiService }) => {
  const response = await apiService.post('/profiles', {
    userId,
    designation: 'Principal SDET',
    experience: 15,
  });
  expect(response.status()).toBe(201);
});

test('Get profile by userId', { tag: ['@smoke', '@regression'] }, async ({ apiService }) => {
  const response = await apiService.get(`/profiles/${userId}`);
  expect(response.status()).toBe(200);

  const profile = await response.json();
  expect(profile.designation).toBe('Principal SDET');
});
